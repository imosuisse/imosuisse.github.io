Let $p$ be an odd prime number.
Determine the number of tuples $(a_1,a_2,\dots,a_p)$ of positive integers with the following
properties:
\begin{itemize}
    \item $1\leq a_i\leq p$ for all $i=1,\dots,p$
    \item $a_1+a_2+\dots +a_p$ is not divisible by $p$
    \item $a_1a_2 + a_2a_3 +\dots a_{p-1}a_p + a_pa_1$ is divisible by $p$
\end{itemize}
