Prove the following inequality for all $a_1,\ldots,a_n>0$ and determine all equality cases:
$$\sum_{k=1}^n ka_k \leq \binom{n}{2} + \sum_{k=1}^n a_k^k.$$