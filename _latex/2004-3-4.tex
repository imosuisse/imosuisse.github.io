Determine all functions $f\colon\mathbb{R} \rightarrow \mathbb{R}$ such
that for all $x,y \in \mathbb{R}$ the following holds
$$f(xf(x)+f(y))=y+f(x)^2.$$
