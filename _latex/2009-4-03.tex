Let $n$ be a positive integer. Determine the number of permutations $(a_1,\ldots,a_n)$ of
the set $\{1,2,\ldots, n\}$ with the following property:
\[
    2(a_1+\ldots+a_k) \quad \text{is divisible by $k$} \quad \text{for all } k\in\{1,2,\ldots,n\}.
\]
