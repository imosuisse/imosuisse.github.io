Determine all functions $f\colon\mathbb{R} \to\mathbb{R}$ such that
\[
    f(x+yf(x)) = f(xf(y)) - x + f(y+f(x))
\]
holds for all $x,y \in \mathbb{R}$
