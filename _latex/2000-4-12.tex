Find all functions $f\colon\mathbb{R} \rightarrow \mathbb{R}$ such that for
all real numbers $x$ and $y$, the following holds
$$f(f(x)+y)=f(x^2-y)+4yf(x).$$