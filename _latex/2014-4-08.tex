Find all functions $f\colon\mathbb{R} \rightarrow \mathbb{R}$ such that for all $x,y \in \mathbb{R}$:
$$f(f(x)-y^2)= f(x^2) +y^2f(y) -2f(xy)$$