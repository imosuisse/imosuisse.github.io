---
layout: default
---
<h2>Second Round {{ page.year }}</h2>
<!-- <p>{{ page.date | date: "%-d %B %Y" }}</p> -->
<p>Number of participants: {{ page.participant-count }}</p>

{% assign problems = site.problems | where: "year", page.year | where: "round", "Second Round" %}

{% if problems.size != page.problem-count %}
    ERROR: PROBLEM COUNT MISSMATCH
{% endif %}

<h3>Distribution</h3>

<div class="overflow-wrapper" id="distribution-container"></div>

<h3>Scores of the Top 50</h3>
<table class = "scores">
    <thead>
        <tr>
            <th>Rank</th>
            <th>Name</th>
            {% for problem in problems %}
                <th class = "center">{{ problem.number }}</th>
            {% endfor %}
            <th class = "center">Total</th>
    </thead>
    <tbody>
        {% for participant in page.participants %}
        {% assign rank = participant.rank | plus: 0 %}
        {% if rank > 50 %} {% break %} {% endif %}
        <tr id="results-row-{{participant.first-name}}-{{participant.last-name}}" class="results-row-"">
            <td>{{ participant.rank }}</td>
            {% assign pp = site.participants | where: "first-name", participant.first-name | where: "last-name", participant.last-name | first %}
            <td>
                {% if pp %}
                    <a href="{{ pp.url }}">{{ participant.first-name }} {{ participant.last-name }}</a>
                {% else %}
                    {{ participant.first-name }} {{ participant.last-name }}
                {% endif %}
            </td>
            {% for problem in problems %}
                <td class = "center">{{ participant.scores[forloop.index0] }}</td>
            {% endfor %}
            <td class = "center">{{ participant.total }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<script src="/assets/js/distribution-renderer.js"></script>
<script>
    const participants = [
        {% for participant in page.participants %}
            {
                first_name:"{{ participant.first-name }}",
                last_name:"{{ participant.last-name }}",
                total:"{{ participant.total }}",
                award:"",
            },
        {% endfor %}
    ];

    const distContainer = document.getElementById("distribution-container");
    renderDistribution(participants, {{ page.problem-count }}*7, distContainer);
</script>

<h3>Contest Problems</h3>

<div id="problems-container"></div>

<script src="/assets/js/problem-loader.js"></script>
<script>

// Get problem IDs from Jekyll
const problemIds = [
    {% for problem in problems %}
    "{{ problem.path | split: "/" | last | replace: ".html", "" }}"{% unless forloop.last %},{% endunless %}
    {% endfor %}
];

const container = document.getElementById('problems-container');
window.addEventListener('DOMContentLoaded', () => {
  loadProblems(problemIds, container);
});
</script>

